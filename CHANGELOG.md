# 更新日志

本项目的重要变更将记录在此文件中。

记录格式参考 Keep a Changelog，版本遵循语义化版本（Semantic Versioning）。

## V1.4.0 - 2026-02-10

### 新增

- 提醒系统新增“长期任务提醒”配置，支持截止日前提醒（提前 7/3/1 天与当天）与周期跟进提醒。
- 短期提醒新增任务类型子页面：周期任务与单次任务分开展示与设置。
- 短期提醒测试拆分为“测试周期任务”与“测试单次任务”两个独立入口。

### 变更

- 任务库自动周期规则由“每日 / 工作日 / 一三五”调整为“每日 / 工作日 / 周末”。
- 任务库自动生成任务改为覆盖今天与明天（保持去重）。
- 右下角任务库入口图标改为简笔风，并优化为边缘隐藏 + 单击直达弹窗。
- 新建任务中的任务库选择方式改为独立弹窗列表，不再在原区域内联展开。
- 短期提醒逻辑重构为双任务池：
  - 周期任务固定跟随模板周期；
  - 非周期任务仅支持今天/明天单次提醒。
- 通知设置界面重排为更简洁的嵌入式切换与轻量控件风格。
- 周期任务在提醒列表中按模板合并显示，避免今天/明天实例重复观感。

### 修复

- 修复 Web 端趋势图连线锚点偏移导致的视觉错位问题。
- 修复提醒任务筛选与保存中周期/单次混用导致的配置不一致问题。
- 修复单次任务与周期任务测试入口不区分导致的验证歧义问题。

## V1.3.1 - 2026-02-09

### 新增

- 通知设置支持“单次 / 每天 / 工作日”周期规则。
- 单次提醒支持“今天 / 明天 + 指定时间”配置。
- 提醒弹窗新增“立即测试（5秒）”通知按钮，便于快速验证。

### 变更

- 提醒任务选择范围调整为仅每日任务，减少无效提醒干扰。
- 通知设置弹窗新增周期与日期交互区域，并展示当前提醒摘要。

### 修复

- 修复提醒调度并发导致同一时间点可能重复弹出通知的问题。
- 优化本地通知调度策略与错误反馈，降低“设置后无提示”的静默失败概率。
- 修复提醒在部分场景下延迟触发、需打开应用后才触发的问题，提升后台稳定性。
- 优化提醒重排策略，减少无效取消与重建，提高定时触发一致性与精度。
- 增加 Android 精确闹钟权限声明，改善定点提醒时间精确度。

## V1.2.0 - 2026-02-08

### 新增

- 长期任务新增“截止日期”字段，支持创建时填写（可空）。
- 长期任务支持后续修改截止日期，修改后立即保存。
- 长期任务截止日期改为滚动式日期选择（年月日滚轮），支持选择与清空。

### 变更

- 任务组主题色扩展为更多配色，并增加同色系深浅选择。
- 每日奖励与长期任务改为可折叠卡片，默认仅显示任务名称、Reward 与任务组，展开后显示详细填写区。
- 保存到任务库、重复保存拦截、默认组不可删除等反馈改为应用内统一轻提示 UI（不使用系统弹窗风格）。

### 修复

- 修复 Web 端构建时与提示能力相关的兼容问题。

## V1.1.1 - 2026-02-08

### 修复

- 修复“积分历史”弹窗中“导出/关闭”按钮在浅色背景下不易显示的问题。

## V1.1.0 - 2026-02-08

### 新增

- 通知设置页面：可配置提醒时间、可多选需要提醒的任务。
- 通知总开关：支持一键开启/关闭提醒。
- 任务便签功能：创建任务时可填写便签条用于记录细节（不写入模板）。

### 变更

- 创建任务交互调整为“中间输入框 + 右侧任务库选择图标”：
  - 可手动输入任务名；
  - 可从任务库选择并自动回填任务名与 Reward。
- 任务库弹窗精简：
  - 每日模板仅保留周期设置与删除；
  - 长期模板仅保留删除。
- 每日奖励区域移除保存/删除按钮，统一在任务清单中管理删除。
- 日历图颜色按当日积分深浅显示（积分越高颜色越深）。
- 应用图标与相关图标资源已更新。

### 修复

- 修复任务组新建/重命名时空输入仍可提交的问题。
- 修复任务库来源任务重复保存无提示的问题（现在会弹窗拦截）。
- 修复从任务库回填创建任务时 Reward 未同步的问题。

## V1.0.0 - 2026-02-08

### 新增

- Action+ Android APK 首次公开发布。
- 任务与奖励核心流程。
- 本地优先存储与 CSV 导出能力。

### 变更

- README 下载地址更新为 GitHub Releases。

### 修复
